<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webstoryboy : 웹스토리보이 : 웹과 관련된 모든 정보</title>

    <link rel="stylesheet" href="../assets/css/fonts.css">
    <link rel="stylesheet" href="../assets/css/reset.css">
    <link rel="stylesheet" href="../assets/css/webs.css">

    <link rel="shortcut icon" href="../assets/ico/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/favicon.png">
    <link rel="icon" href="../assets/ico/favicon.png">
    <link rel="icon" href="../assets/ico/favicon.png" sizes="48x48">
    <link rel="icon" href="../assets/ico/favicon.png" sizes="64x64">
    <link rel="icon" href="../assets/ico/favicon.png" sizes="128x128">

    <meta name="acthor" content="webstroyboy">
    <meta name="description" content="포트폴리오를 위한 레퍼런스 사이트입니다. 자바스크립트, 애니메이션, Three.js, 리액트, 뷰, PHP 등 다양한 언어를 배우고 포트폴리오에 표현합니다.">
    <meta name="keywords" content="포트폴리오, 웹스토리보이, 웹쓰, 사이트제작, 사이트만들기, 프로트앤드, 웹 퍼블리셔, portfolio, webstoryboy, frontend, public, javascript, html, css, three.js">
    <meta name="robots" content="all">
    
    <meta property="og:type" content="article" />
    <meta property="og:title" content="웹스토리보이" />
    <meta property="og:url" content="https://webstoryboy.co.kr/" />
    <meta property="og:image" content="../assets/ico/favicon.png" />
    <meta property="og:site_name" content="웹스토리보이" />
    <meta property="og:description" content="웹과 관련된 정보를 제공합니다." />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@webstoryboy" />
    <meta name="twitter:title" content="웹스토리보이" />
    <meta name="twitter:description" content="웹과 관련된 정보를 제공합니다." />
    <meta property="twitter:image" content="../assets/ico/favicon.png" />
</head>
<body>

    <div id="skip">
        <a href="#header">헤더 영역 바로가기</a>
        <a href="#main">컨텐츠 영역 바로가기</a>
        <a href="#footer">푸터 영역 바로가기</a>
    </div>
    <!-- //skip -->

    <header id="header">
        <div class="header__inner">
            <div class="left"> 
                <a href="../index.html" class="star"><span class="ir">메인으로</span></a>
            </div>
            <h1>
                <a href="../index.html">WEBSTORYBOY</a>
            </h1>
            <div class="right">
                <ul>
                    <li><a href="#">검색</a></li>
                </ul>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="#"><span>레퍼런스</span></a></li>
                    <li><a href="#"><span>튜토리얼</span></a></li>
                    <li><a href="#"><span>게시판</span></a></li>
                    <li><a href="#"><span>블로그</span></a></li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- //header -->

    <main id="main">
        <section id="blog">
            <div class="blog__title">
                <span class="cate">Tutorial/Portfolio</span>
                <h1 class="title">자연스럽게 변하는 배경색 변경 효과 만들어보기</h1>
                <div class="meta">
                    <span class="author">by @webs</span>
                    <span class="date">2022. 12. 26.</span>
                </div>
            </div>
            <div class="blog__inner container">
                <div id="youtube" class="blog__contents__intro">
                    <div class="video nonex resizable draggable sampleBtn3">
                        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/TG6az1PXRUw" title="YouTube video player" frameborder="0" allowfullscreen></iframe>
                    </div>
                    <div class="desc">
                        <div class="left" style="width: 55%">
                            <span class="num">Tutorial</span>
                            <div class="title">배경 색 + 글씨 색 변경하기 + 스므스 효과 주기</div>
                            <span class="difficulty">난이도 <span>중간</span></span>
                        </div>
                        <div class="right" style="width: 45%">
                            <div class="btn">소스 다운로드</div>
                            <a href="https://webstoryboy.github.io/webstoryboy/w_tutorial/portfolio/ex04/index.html" target="_blank" class="sampleBtn">완성 화면 보기</a>
                            <a href="https://github.com/webstoryboy/webstoryboy/tree/main/w_tutorial/portfolio/ex04" target="_blank" class="sampleBtn">완성 코드 보기</a>
                        </div>
                    </div>
                </div>
                <!-- //blog__contents__intro -->

                <div class="blog__contents tutorial">
                    <h2>소개</h2>
                    <p>
                        안녕하세요🤭
                        이번에 변경색으로 자연스럽게 변경하는 효과를 만들어 보겠습니다. 
                        섹션이 넘어갈 때 배경색을 스므스하게 변경해주면 고급스러운 느낌을 줄 수 있습니다. 
                        당연히 이번에도 GSAP<sub>1</sub>는 당연히 사용하게 되구요! 
                        스므스 효과는 Lenis<sub>2</sub>를 사용하겠습니다.
                        아~~ 참고로 이미지는 unsplash<sub>3</sub>에서 가져왔습니다.
                    </p>

                    <hr>

                    <h3>01. 기본 코딩</h3>
                    <p data-num="01">
                        기본 구조부터 셋팅을 합시다. 🥳
                        6개의 섹션이 있다고 가정하고 구조화하겠습니다.
                    </p>
<pre><code class="language-html">&lt;main id="main"&gt;
    &lt;section id="section1"&gt;
    &lt;/section&gt;
    &lt;!-- //section1 --&gt;

    &lt;section id="section2"&gt;
    &lt;/section&gt;
    &lt;!-- //section2 --&gt;

    &lt;section id="section3"&gt;
    &lt;/section&gt;
    &lt;!-- //section3 --&gt;

    &lt;section id="section4"&gt;
    &lt;/section&gt;
    &lt;!-- //section4 --&gt;

    &lt;section id="section5"&gt;
    &lt;/section&gt;
    &lt;!-- //section5 --&gt;

    &lt;section id="section6"&gt;
    &lt;/section&gt;
    &lt;!-- //section6 --&gt;
&lt;/main&gt;
</code></pre>   
                    <p data-num="02">
                        그럼 CSS도 셋팅해주겠습니다. 
                        기본 설정도 간단하게 넣어주고, 배경색을 넣어주겠습니다. 
                        색은 임의로 넣어봤습니다. 
                    </p>
<pre><code class="language-css">* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
#main > section {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}
#section1 {
    background-color: #2c4855;
}
#section2 {
    background-color: #e3c4b8;
}
#section3 {
    background-color: #947e75;
}
#section4 {
    background-color: #a16a0f;
}
#section5 {
    background-color: #354E5F;
}
#section6 {
    background-color: #c0621a;
}
</code></pre>   

                    <p data-num="03">
                        이번에는 각 섹션안에 글씨와 이미지를 넣어주겠습니다.
                    </p>
<pre><code class="language-html">&lt;main id="main"&gt;
    &lt;section id="section1"&gt;
        &lt;div class="text__inner"&gt;
            &lt;div class="img img1"&gt;&lt;/div&gt;
            &lt;div class="txt1"&gt;Passion&lt;/div&gt;
            &lt;div class="txt2"&gt;Creative&lt;/div&gt;
            &lt;div class="txt3"&gt;Shining&lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;
    &lt;!-- //section1 --&gt;

    &lt;section id="section2"&gt;
        &lt;div class="text__inner"&gt;
            &lt;div class="img img2"&gt;&lt;/div&gt;
            &lt;div class="txt1"&gt;Passion&lt;/div&gt;
            &lt;div class="txt2"&gt;Creative&lt;/div&gt;
            &lt;div class="txt3"&gt;Shining&lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;
    &lt;!-- //section2 --&gt;

    &lt;section id="section3"&gt;
        &lt;div class="text__inner"&gt;
            &lt;div class="img img3"&gt;&lt;/div&gt;
            &lt;div class="txt1"&gt;Passion&lt;/div&gt;
            &lt;div class="txt2"&gt;Creative&lt;/div&gt;
            &lt;div class="txt3"&gt;Shining&lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;
    &lt;!-- //section3 --&gt;

    &lt;section id="section4"&gt;
        &lt;div class="text__inner"&gt;
            &lt;div class="img img4"&gt;&lt;/div&gt;
            &lt;div class="txt1"&gt;Passion&lt;/div&gt;
            &lt;div class="txt2"&gt;Creative&lt;/div&gt;
            &lt;div class="txt3"&gt;Shining&lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;
    &lt;!-- //section4 --&gt;

    &lt;section id="section5"&gt;
        &lt;div class="text__inner"&gt;
            &lt;div class="img img5"&gt;&lt;/div&gt;
            &lt;div class="txt1"&gt;Passion&lt;/div&gt;
            &lt;div class="txt2"&gt;Creative&lt;/div&gt;
            &lt;div class="txt3"&gt;Shining&lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;
    &lt;!-- //section5 --&gt;

    &lt;section id="section6"&gt;
        &lt;div class="text__inner"&gt;
            &lt;div class="img img6"&gt;&lt;/div&gt;
            &lt;div class="txt1"&gt;Passion&lt;/div&gt;
            &lt;div class="txt2"&gt;Creative&lt;/div&gt;
            &lt;div class="txt3"&gt;Shining&lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;
    &lt;!-- //section6 --&gt;
&lt;/main&gt;
</code></pre>   

                    <p data-num="04">
                        섹션별로 글씨색도 추가하겠습니다. 
                        텍스트의 위치를 임의로 참고, 이미지도 절대값을 이용하여 임의로 설정하겠습니다. 
                        여러분들은 섹션별로 위치를 다르게해서 작업하셔도 됩니다. 
                        이미지는 unsplash<sub>3</sub> 경로를 그대로 가져와서 사용했습니다. 
                        그럼 이제 기본 골격 설정은 끝난거 같습니다. 다음은 스크립트로 이동하겠습니다. 
                    </p>
<pre><code class="language-css">#section1 {
    background-color: #2c4855;
    color: #fff;
}
#section2 {
    background-color: #e3c4b8;
    color: #fff0f5;
}
#section3 {
    background-color: #947e75;
    color: #ffffff;
}
#section4 {
    background-color: #a16a0f;
    color: #E0B469;
}
#section5 {
    background-color: #354E5F;
    color: #8bb7d4;
}
#section6 {
    background-color: #c0621a;
    color: #ffc192;
}

/* text__inner */
.text__inner {
    text-align: center;
    font-size: 9vw;
    font-family: 'PPEiko-Thin';
    line-height: .81;
}
.text__inner .txt1 {
    margin-left: -40vw;
}
.text__inner .txt2 {
    position: relative;
    z-index: 10;
}
.text__inner .txt3 {
    margin-left: -30vw;
}
.text__inner .img {
    width: 30vw;
    height: 30vw;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    border-radius: 50%;
    position: absolute;
    right: 10vw;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1;
}
.text__inner .img img {
    width: 100%;
}
.text__inner .img.img1 {
    background-image: url(https://images.unsplash.com/photo-1672427045052-1dff001fb0b4?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2371&q=80);
}
.text__inner .img.img2 {
    background-image: url(https://images.unsplash.com/photo-1672667680124-6b9294abf071?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1166&q=80);
}
.text__inner .img.img3 {
    background-image: url(https://images.unsplash.com/photo-1672671225678-cb2588a961f7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80);
}
.text__inner .img.img4 {
    background-image: url(https://images.unsplash.com/photo-1672615086113-d7547be45622?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80);
}
.text__inner .img.img5 {
    background-image: url(https://images.unsplash.com/photo-1672627720536-e5c2843b1d7f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1073&q=80);
}
.text__inner .img.img6 {
    background-image: url(https://images.unsplash.com/photo-1672278640012-49e959907a47?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80);
}
</code></pre>   

                    <h3>02. GSAP 코딩</h3>
                    <p data-num="05">
                        우선 CDN을 연동하겠습니다. 
                    </p>
<pre><code class="language-html">&lt;script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@latest/bundled/lenis.js"&gt;&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"&gt;&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"&gt;&lt;/script&gt;
</code></pre>

                    <p data-num="06">
                        우선 CDN을 연동하겠습니다. 
                        Lenis<sub>2</sub>와 GSAP 기본 셋팅부터 하겠습니다.
                        이부분은 해당 깃에 보시면 설명이 자세히 나와있습니다.
                    </p>
<pre><code class="language-javascript">gsap.registerPlugin(ScrollTrigger);

const lenis = new Lenis({
    duration: 1.2,
    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
})

function raf(time) {
    lenis.raf(time)
    requestAnimationFrame(raf)
}
requestAnimationFrame(raf)
</code></pre>

                    <p data-num="07">
                        각 섹션을 선택자로 만듭니다. <code>forEach</code>를 이용하여 <code>ScrollTrigger</code>를 생성합니다. 
                        각 섹션을 인식하고 각 섹션마다 스크로트리거를 인식할 수 있도록 했습니다. 
                        트리거는 colorSection에 설정하고, 스크롤일 들어갔을 때, 나왔을 때 콜백함수를 설정했습니다. 
                    </p>
                    <p>
                        각 섹션의 배경색과 글씨색은 data-값으로 설정했습니다. 
                        이렇게 하면 작업하기 조금더 수월하겠죠! 🤪
                        data-bgcolor="#947e75" data-bgtext="#ffffff" 이런식으로 섹션마다 설정해줘서 색이 변경되게 만들었습니다.
                    </p>
                    <p>
                        그리고 스크롤이 된 다음에 다시 이전으로 가면 기존 색으로 변경되야 하기 때문에
                        prevBg, prevText 변수를 만들어서 기존 색을 다시 가져오도록 설정하여 onLeaveBack 함수에 설정하였습니다. 
                        그리고 마지막으로 CSS 설정했던 배경색과 글씩색은 지워주시면 됩니다. 
                        이거 깜박하고 안하시면 효과가 안보입니다.^^
                    </p>
                    
<pre><code class="language-javascript">const backColor = document.querySelectorAll("[data-bgcolor]");

backColor.forEach((colorSection, i) => {
    const prevBg = i === 0 ? "" : backColor[i - 1].dataset.bgcolor;
    const prevText = i === 0 ? "" : backColor[i - 1].dataset.bgtext;

    ScrollTrigger.create({
        trigger: colorSection,
        start: 'top 50%',
        end: 'bottom 5%',
        markers: false,
        onEnter: () => gsap.to("#main", {
            backgroundColor: colorSection.dataset.bgcolor,
            color: colorSection.dataset.bgtext,
        }),
        onLeaveBack: () => gsap.to("#main", {
            backgroundColor: prevBg,
            color: prevText
        })
    });
});
</code></pre>

                    <p>
                        이렇게 해서 각 섹션별로 배경색과 텍스트 색이 변경되도록 하였습니다. 
                        생각보다 어려운 부분이 없죠? 😅
                        이해가 안되는 부분은 댓글 주시고요! 하나씩 뜯어보면 별거 없다는 것을 느낄수 있을거에요! 
                        그럼 오늘은 여기까지~ 수고하셨습니다.
                    </p>

                    <hr>

                    <h3>HTML 레퍼런스</h3>
                    <ul class="refer2">
                        <li><a href="/">main</a></li>
                        <li><a href="/">section</a></li>
                        <li><a href="/">div</a></li>
                        
                    </ul>

                    <h3>CSS 레퍼런스</h3>
                    <ul class="refer2">
                        <li><a href="/">font-family</a></li>
                        <li><a href="/">font-size</a></li>
                        <li><a href="/">line-height</a></li>
                        <li><a href="/">margin</a></li>
                        <li><a href="/">padding</a></li>
                        <li><a href="/">display</a></li>
                        <li><a href="/">width</a></li>
                        <li><a href="/">height</a></li>
                        <li><a href="/">background-color</a></li>
                        <li><a href="/">background-image</a></li>
                        <li><a href="/">position</a></li>
                        <li><a href="/">left</a></li>
                        <li><a href="/">top</a></li>
                        <li><a href="/">right</a></li>
                        <li><a href="/">bottom</a></li>
                        <li><a href="/">align-items</a></li>
                        <li><a href="/">justify-content</a></li>
                        <li><a href="/">box-sizing</a></li>
                        <li><a href="/">color</a></li>
                        <li><a href="/">z-index</a></li>
                    </ul>

                    <h3>자바스크립트 레퍼런스</h3>
                    <ul class="refer2">
                        <li><a href="/">requestAnimationFrame()</a></li>
                        <li><a href="/">querySelectorAll()</a></li>
                        <li><a href="/">forEach()</a></li>
                    </ul>

                    <h3>사이트 레퍼런스</h3>
                    <ul class="refer">
                        <li><a href="https://greensock.com/" target="_blank">GSAP<sup>1</sup> : https://greensock.com/</a></li>
                        <li><a href="https://lenis.studiofreight.com/" target="_blank">Lenis<sup>2</sup> : https://lenis.studiofreight.com/</a></li>
                        <li><a href="https://unsplash.com/" target="_blank">unsplash<sup>3</sup> : https://unsplash.com/</a></li>
                    </ul>
                    
                    <hr>
                </div>
                <!-- //blog__contents -->

                <aside class="blog__aside">
                    <button class="blog__aside__btn"><span></span></button>
                    <div class="blog__aside__chapter">
                    </div>
                </aside>
            </div>
        </section>
        <!-- //blog -->
    </main>
    <!-- //main -->

    <footer id="footer">
        <a href="mailto:webstoryboy@naver.com">webstoryboy@naver.com</a>
    </footer>
    <!-- //footer -->

    <script src="../assets/js/jquery-3.6.0.js"></script>
    <script src="../assets/js/jquery-ui.js"></script>
    <script src="../assets/js/highlight.min.js"></script>
    <script src="../assets/js/webs.js"></script>
</body>
</html>



<!-- 
    ex01 : 메인 페이지 텍스트 애니메이션 + THREE.JS 배경 효과
    ex02 : 메인 페이지 눈 내리는 효과 + 텍스트 애니메이션
    ex03 : GSAP 가로 모드 만들기 + 스므스 효과 주기 
    ex04 : 배경 색 + 글씨 색 변경하기 + 스므스 효과 주기
 -->